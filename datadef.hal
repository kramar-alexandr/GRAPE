SourceFile("halcust\\halpatch",0);
SourceFile("halcust\\Import",0);
SourceFile("halcust\\Report",0);
SourceFile("halcust\\RemoteWA",0);
SourceFile("halcust\\Windows",0);
SourceFile("halcust\\WAction",0);
SourceFile("halcust\\Web",0);
SourceFile("halcust\\Print",0);

procedure DefineIVVcRecordType_Header(Boolean fieldsisf)
begin
  RecordField(InvDate,M4Date,0,0);
  RecordField(CustCode,M4Code,20,CUVc);
  RecordField(Math,M4Matrix,0,0);
  RecordField(PayDate,M4Date,0,0);
  RecordField(Addr0,M4Str,60,0);
  RecordField(Addr1,M4Str,60,0);
  RecordField(Addr2,M4Str,60,0);
  RecordField(Addr3,M4Str,60,0);
  RecordField(OurContact,M4Str,20,0);
  RecordField(ClientContact,M4Str,60,0);
  RecordField(ExportFlag,M4Int,0,0);
  RecordField(PayDeal,M4Code,2,0);
  RecordField(OrderNr,M4Long,0,0);
  RecordField(Prntdf,M4Int,0,0);
  RecordField(OKFlag,M4Mark,0,0);
  RecordField(pdays,M4Long,0,0);
  RecordField(pdvrebt,M4Qty,0,0);
  RecordField(pdrdays,M4Long,0,0);
  RecordField(CustCat,M4Code,5,0);
  RecordField(pdComment,M4Str,60,0);
  RecordField(x1,M4Dummy,0,0);
  RecordField(InvType,M4Int,0,0); /* 1 = Normal, 2 = Cash, 3 = Credit, 4 = Interest, 5 = Debit Note, 6 = Accounting Period + Net Days 7 = "Dummy" Prepayment Invoice*/
  RecordField(xStatFlag,M4Int,0,0);
  RecordField(PriceList,M4Code,5,0);
  RecordField(Objects,M4UStr,60,ObjVc);
  RecordField(InclVAT,M4Int,0,0);
  RecordField(ARAcc,M4Code,10,AccVc);
  RecordField(InvComment,M4Str,200,0);
  RecordField(CredInv,M4Long,0,0);
  RecordField(CredMark,M4Str,1,0);
  RecordField(SalesMan,M4UStr,60,UserVc);
  if (fieldsisf) then begin
    FieldIsUser(SalesMan);
  end;
  RecordField(ToRateB1,M4Rate,0,0);
  RecordField(TransDate,M4Date,0,0);
  if (fieldsisf) then begin
    FieldIsTransDate(TransDate);
  end;
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(LangCode,M4Code,5,0);
  RecordField(UpdStockFlag,M4Int,0,0);
  RecordField(LastRemndr,M4Long,0,0);
  RecordField(LastRemDate,M4Date,0,0);
  RecordField(Sign,M4Code,10,UserVc);
  RecordField(FrPrice,M4Val,0,0);
  RecordField(FrBase,M4Val,0,0);
  RecordField(FrItem,M4Code,20,INVc);
  RecordField(FrVATCode,M4Code,10,VATCodeBlock);
  RecordField(FrObjects,M4UStr,60,ObjVc);
  RecordField(OrgCust,M4Code,20,CUVc);
  RecordField(FrGP,M4Val,0,0);
  RecordField(FrGPPercent,M4Val,0,0);
  RecordField(Sum0,M4Val,0,0);
  RecordField(Sum1,M4Val,0,0);
  RecordField(Sum2,M4Val,0,0);
  RecordField(Sum3,M4Val,0,0);
  RecordField(Sum4,M4Val,0,0);
  RecordField(VATNr,M4Str,20,0);
  RecordField(ShipDeal,M4Code,5,0);
  RecordField(ShipAddr0,M4Str,60,0);
  RecordField(ShipAddr1,M4Str,60,0);
  RecordField(ShipAddr2,M4Str,60,0);
  RecordField(ShipAddr3,M4Str,60,0);
  RecordField(ShipMode,M4Code,5,0);
  RecordField(Location,M4Code,10,LocationVc);
  if (fieldsisf) then begin
    FieldIsLocation(Location);
  end;
  RecordField(PRCode,M4Code,20,PRVc);
  RecordField(FrSalesAcc,M4Code,10,AccVc);
  RecordField(TAX1Sum,M4Val,0,0);
  RecordField(CustVATCode,M4Code,10,VATCodeBlock);
  RecordField(RebCode,M4Code,5,0);
  RecordField(CalcFinRef,M4Str,30,0);
  RecordField(Phone,M4Str,20,0);
  RecordField(Fax,M4Str,20,0);
  RecordField(IntCode,M4Str,10,0);
  RecordField(ARonTR,M4Int,0,0);
  RecordField(CustOrdNr,M4Str,60,0);
  RecordField(ExportedFlag,M4Int,0,0);
  RecordField(BaseSum4,M4Val,0,0);
  RecordField(FrRate,M4Rate,0,0); 
  RecordField(ToRateB2,M4Rate,0,0); 
  RecordField(BaseRate1,M4Rate,0,0); 
  RecordField(BaseRate2,M4Rate,0,0); 
  RecordField(InvoiceNr,M4Str,20,0);
  RecordField(DiscPerc,M4Qty,0,0);
  RecordField(DiscSum,M4Val,0,0);
  RecordField(TotGP,M4Val,0,0);
  RecordField(LocOKNr,M4Qty,0,0);
  RecordField(Invalid,M4Int,0,0);
  FieldIsInvalid(Invalid);
  RecordField(CreditCard,M4UStr,20,CreditCardVc);
  RecordField(AuthorizationCode,M4UStr,10,0);
  RecordField(RecValue,M4Val,0,0);
  RecordField(RetValue,M4Val,0,0);
  RecordField(FromBUQT,M4Int,0,0);
  RecordField(Sorting,M4Str,20,0);
  RecordField(NoInterestFlag,M4Int,0,0);
  RecordField(NoRemndrFlag,M4Int,0,0);
  RecordField(SVONr,M4Long,0,0);
  RecordField(InstallmentInv,M4Int,0,0);
  RecordField(OfficialSerNr,M4Str,100,0);
  RecordField(OfficialSerNr2,M4Str,100,0);
  RecordField(TotQty,M4Qty,0,0);
  RecordField(TotWeight,M4Qty,0,0);
  RecordField(TotVolume,M4Qty,0,0);
  RecordField(Commision,M4Val,0,0);
  RecordField(SumIncCom,M4Val,0,0);
  RecordField(InvAddr3,M4Str,60,0);
  RecordField(InvAddr4,M4Str,60,0);
  RecordField(DelAddr3,M4Str,60,0);
  RecordField(DelAddr4,M4Str,60,0);
  RecordField(DelAddrCode,M4Code,20,0);
  RecordField(AutoGiro,M4Int,0,0);
  RecordField(SalesGroup,M4UStr,30,SalesGroupVc);
  if (fieldsisf) then begin
    FieldIsGroup(SalesGroup);
  end;
  RecordField(DisputedFlag,M4Int,0,0);
  RecordField(NoColectionFlag,M4Int,0,0);
  RecordField(QTNr,M4Long,0,0);
  RecordField(FiscalFlag,M4Mark,0,0);
  RecordField(JobNr,M4Long,0,0);
  RecordField(RetnValue,M4Val,0,0);
  RecordField(MachineName,M4Code,20,0);
  RecordField(TransTime,M4Time,0,0);
  RecordField(DrawerCode,M4Code,5,0);
  RecordField(SiteX,M4Code,10,0);
  RecordField(colnr,M4Set,46,0);
  RecordField(StatVal,M4Val,0,0);
  RecordField(EInvFunc,M4Int,0,0);
  RecordField(EInvExpFlag,M4Int,0,0);
  RecordField(EInvExpDate,M4Date,0,0);
  RecordField(EInvExpQty,M4Long,0,0);
  RecordField(ServiceDelDate,M4Date,0,0);
  RecordField(Region,M4Code,20,RegionVc);
  RecordField(RefStr,M4Str,60,0);
  RecordField(TAX2Sum,M4Val,0,0);
  RecordField(pdvrebt2,M4Qty,0,0);
  RecordField(pdrdays2,M4Long,0,0);
  RecordField(NoTax1,M4Int,0,0);
  RecordField(NoTax2,M4Int,0,0);
  RecordField(FreightCode,M4Code,5,0);
  RecordField(BankCode,M4Code,10,BankVc);
  RecordField(InvalidDate,M4Date,0,0);
  RecordField(InvalidLocOKNr,M4Qty,0,0);
  RecordField(NoEInvoice,M4Int,0,0);
  RecordField(TaxAuthID,M4Str,200,0);
  RecordField(TaxAuthIDCC,M4Str,20,0);
  RecordField(BranchID,M4Code,20,CUVc);
  RecordField(Status,M4Set,361,0);
  RecordField(NoTAXonVAT,M4Long,0,0);
  RecordField(TotalwoTAX,M4Int,0,0);
  RecordField(CredManNr,M4Long,0,0);
  RecordField(RegDate,M4Date,0,0);
  RecordField(RegTime,M4Time,0,0);
  RecordField(COCUSerNr,M4Long,0,0);
  RecordField(CAE,M4Str,20,0);
  RecordField(CAEExpiry,M4Date,0,0);
  RecordField(VINr,M4Long,0,0);
  RecordField(TerminalID,M4Str,60,0);
  RecordField(OrderType,M4Set,433,0);
  RecordField(FiscalDeviceSeqNr,M4Long,0,0);
  RecordField(CCTransID,M4UStr,50,0);
  RecordField(AcceptanceStatus,M4Int,0,0);
  RecordField(TaxMatrix,M4PackedMatrix,0,TaxMatrixVc);
  RecordField(CustTaxTemplateCode,M4Code,10,TaxTemplateVc);
  RecordField(RoyaltyIVFlag,M4Int,0,0);
  RecordField(LoyaltyCardNr,M4Code,20,0);
  RecordField(LCMLevel,M4Code,10,0);
  RecordField(Points,M4Val,0,0); 
  RecordField(DepCode,M4Code,10,0);
  RecordField(SelfBilling,M4Int,0,0);
  RecordField(Hash,M4Str,255,0);
  RecordField(HashKeyVersion,M4Int,0,0);
  RecordField(InvCountry,M4Code,5,0);
  RecordField(DelCountry,M4Code,5,0);
  RecordField(TREONr,M4Long,0,0);
  RecordField(ORCONr,M4Long,0,0);
  RecordField(CAEAStartDate,M4Date,0,0);
  RecordField(CAEAExpiryDate,M4Date,0,0);
  RecordField(CAEAFlag,M4Int,0,0);
  RecordField(FInvExpFlag,M4Int,0,0);
  RecordField(GroupInv,M4Int,0,0);
  RecordField(Suspended,M4Int,0,0);
  RecordField(AcceptanceBy,M4List,200,UserVc);
  RecordField(RetNr,M4Long,0,0);
  RecordField(TaxAdminServSignatureTimeStamp,M4Str,30,0);
  RecordField(TaxAdminServCertificateNr,M4Str,20,0);
  RecordField(TaxAdminServSeal,M4Str,250,0);
  RecordField(CredOfficialSerNr,M4UStr,100,0);
  RecordField(AcceptanceFYI,M4List,200,UserVc);
  RecordField(PMCode,M4Code,2,0);
  RecordField(PayAccNo,M4Str,4,0);
  RecordField(BrazilEInvType,M4Code,10,BrazilEInvTypeVc);
  RecordField(TaxAdminReceiptNr,M4Str,200,0);
  RecordField(TaxAuthReceiptDate,M4Date,0,0);//Why we cannot use EInvExpDate from above ? 
  RecordField(TaxAuthReceiptTime,M4Time,0,0);
  RecordField(ReceiptInfo,M4Str,200,0);
  RecordField(InvalidTime,M4Time,0,0);
  RecordField(OKBy,M4Code,10,UserVc);
  RecordField(PlanSendDate,M4Date,0,0);
  RecordField(PlanSendTime,M4Time,0,0);
  RecordField(PlanArrDate,M4Date,0,0);
  RecordField(PlanArrTime,M4Time,0,0);
  RecordField(FedServCode,M4Code,10,FedServVc);
  RecordField(InvalidBy,M4Code,10,UserVc);
  RecordField(Reason,M4Code,20,0);
  RecordField(InvCountryName,M4Str,100,0);
  RecordField(DelCountryName,M4Str,100,0);
  RecordField(OfficialSerNrSerie,M4Str,30,0);
  RecordField(OfficialSerNr2Serie,M4Str,30,0);
  RecordField(IPBookVAT,M4Int,0,0);
  RecordField(ThirdPartyBillMark,M4Int,0,0);
  RecordField(RecipientGLN,M4Str,20,0);
  RecordField(DelRecipientGLN,M4Str,20,0);
  RecordField(IntrastatTransCode,M4Code,20,0);
  RecordField(GlobalTransportNr,M4UStr,30,0);
  RecordField(GlobalTransportDate,M4Date,0,0);
  return;
end; 

procedure DefineIVVcRecordType_Array()
begin
  ArrayBegin(Math,-,1);
  ArrayField(stp,M4Int,0,0);
  ArrayField(ArtCode,M4Code,20,INVc); //?? M4Str in interest rowtype??
  ArrayField(Quant,M4UVal,0,0);
  ArrayField(Price,M423Val,0,0);
  ArrayField(Sum,M4Val,0,0);
  ArrayField(vRebate,M41Val,0,0);
  ArrayField(SalesAcc,M4Code,10,AccVc);
  ArrayField(Objects,M4UStr,60,ObjVc);
  ArrayField(OrdRow,M4Long,0,0);
  ArrayField(BasePrice,M4Val,0,0);
  ArrayField(rowGP,M4Val,0,0);
  ArrayField(FIFO,M45Val,0,0);
  ArrayField(Spec,M4Str,100,0);
  ArrayField(VATCode,M4Code,10,VATCodeBlock);
  ArrayField(Recepy,M4Code,20,RecVc);
  ArrayField(SerialNr,M4Str,30,0);
  ArrayField(PriceFactor,M45Val,0,0);
  ArrayField(VARList,M4UStr,30,0);
  ArrayField(CUPNr,M4Long,0,0);
  ArrayField(FIFORowVal,M45Val,0,0);
  ArrayField(Coefficient,M45Val,0,0);
  ArrayField(CuAccCode,M4Code,20,0);
  ArrayField(ExciseNr,M4Str,20,0); // This is ShipDate!?!
  ArrayField(PeriodCode,M4Code,10,0);
  ArrayField(UnitCode,M4Code,5,0);
  ArrayField(UnitFactQuant,M4UVal,0,0);
  ArrayField(UnitFactPrice,M423Val,0,0);
  ArrayField(UnitXval,M4UVal,0,0);
  ArrayField(UnitYval,M4UVal,0,0);
  ArrayField(UnitZval,M4UVal,0,0);
  ArrayField(VECode,M4Code,20,VEVc);
  ArrayField(CreditCard,M4UStr,20,CreditCardVc);
  ArrayField(AuthorizationCode,M4UStr,10,0);
  ArrayField(PosCode,M4Code,20,0);  
  ArrayField(CurncyCode,M4Code,5,CurncyCodeVc); 
  ArrayField(FrRate,M4Rate,0,0); 
  ArrayField(ToRateB1,M4Rate,0,0);
  ArrayField(ToRateB2,M4Rate,0,0); 
  ArrayField(BaseRate1,M4Rate,0,0); 
  ArrayField(BaseRate2,M4Rate,0,0);   
  ArrayField(PayMode,M4Code,2,0);   
  ArrayField(GCNr,M4Long,0,0);   
  ArrayField(CustOrdNr,M4Str,60,0);
  ArrayField(RepaExVAT,M4Val,0,0);
  ArrayField(BasePriceB2,M4Val,0,0);
  ArrayField(TAX2Code,M4Code,5,0);
  ArrayField(TAX2Prc,M423Val,0,0);
  ArrayField(TAX2Reb,M4Val,0,0);
  ArrayField(TAX1Reb,M4Val,0,0);
  ArrayField(TAX2Acc,M4Code,10,AccVc);
  ArrayField(CreditedRow,M4Long,0,0);
  ArrayField(NotUpdStockFlag,M4Int,0,0);
  ArrayField(CUServiceHistNr,M4Long,0,0);
  ArrayField(CUServiceUntilDate,M4Date,0,0);
  ArrayField(ServiceDelDate,M4Date,0,0);
  ArrayField(Location,M4Code,10,LocationVc);
  ArrayField(Comment,M4Str,100,0);
  ArrayField(DiscApprovedBy,M4Code,10,UserVc);
  ArrayField(Perceptions,M4Int,0,0);
  ArrayField(VoidedRowNr,M4Long,0,0);   
  ArrayField(VoidedSign,M4Code,10,UserVc);
  ArrayField(ovst,M4Int,0,0);
  ArrayField(Withholdings,M4Int,0,0);
  ArrayField(WHTax,M4Code,2,0);
  ArrayField(CCTransID,M4UStr,50,0);
  ArrayField(TaxMatrix,M4PackedMatrix,0,TaxMatrixVc);
  ArrayField(TaxTemplateCode,M4UStr,60,TaxTemplateVc);
  ArrayField(ResUsage,M4Code,10,ResUsageVc);
  ArrayField(MBRCode,M4Code,10,MultiBuyRebVc);
  ArrayField(ChequeNr,M4Long,0,0);
  ArrayField(CheckNr,M4UStr,20,0);   
  ArrayField(Points,M4Val,0,0);   
  ArrayField(SalesAssistant,M4Code,10,UserVc);
  ArrayField(CCTimestamp,M4Str,20,0);
  ArrayField(MotherArtCode,M4Code,20,INVc);
  ArrayField(RecipeQuant,M4Qty,0,0);
  ArrayField(OrdNr,M4Long,0,0);
  ArrayField(IVNr,M4Long,0,0);
  ArrayField(RetRow,M4Long,0,0);
  ArrayField(QTRow,M4Long,0,0);
  ArrayField(SHNr,M4Long,0,0);
  ArrayField(SHRow,M4Long,0,0);
  ArrayField(CustArtCode,M4Code,20,CUINVc);
  ArrayField(Salesmen,M4UStr,60,UserVc);
  ArrayField(CredOfficialSerNr,M4Str,100,0);
  ArrayField(MotherNr,M4Str,60,0);
  ArrayField(AEStatus,M4Set,544,0);
  ArrayField(CustomsNr,M4Str,30,0);
  ArrayField(CountryOfOrg,M4Code,5,CountryVc);
  ArrayField(SecondarySerialNr,M4Str,30,0);
  ArrayField(AlternateDeviceID,M4Str,30,0);
  ArrayField(MotherSecondarySerialNr,M4Str,30,0);
  ArrayField(MotherAlternateDeviceID,M4Str,30,0);
  ArrayField(UnitComment,M4Str,200,0);
  EndArray;
  return;
end; 

begin
 RecordBegin(IVVc,-,"IVVc3");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(IVSerBlock);
  DefineIVVcRecordType_Header(1);  
  DefineIVVcRecordType_Array;
  MainKeyBegin(SerNr,1);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(SerNr);
  SynchronizationIndex;

  SubsetKeyBegin2(ExportedFlag);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(ExportedFlag);
  KeySegment(SerNr);

  SubsetKeyBegin2(CustCode);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(CustCode);
  KeySegment(SerNr);
  
  SubsetKeyBegin2(OKFlag);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(OKFlag);
  KeySegment(SerNr);

  SubsetKeyBegin2(InvDate);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(InvDate);
  KeySegment(SerNr);

  SubsetKeyBegin2(CredInv);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(CredInv);
  KeySegment(SerNr);

  SubsetKeyBegin2(Name);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(Addr0);
  KeySegment(SerNr);

  SubsetKeyBegin2(TransDate);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(TransDate);
  KeySegment(SerNr);
// Does all of these indexes really need to be SubsetKeys??????
  SubsetKeyBegin2(Sum4);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(Sum4);
  KeySegment(SerNr);
  SubsetKeyBegin2(OrderNr);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(OrderNr);
  KeySegment(SerNr);
  SubsetKeyBegin2(RefStr);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(CalcFinRef);
  KeySegment(SerNr);
  SubsetKeyBegin2(SalesMan);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(SalesMan);
  KeySegment(InvDate);
  KeySegment(SerNr);
  SubsetKeyBegin2(Location);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(Location);
  KeySegment(InvDate);
  KeySegment(SerNr);
  KeyBegin(LocOK);
  KeySegment(Location);
  KeySegment(OKFlag);
  KeySegment(UpdStockFlag);
  KeySegment(TransDate);
  KeySegment(SerNr);
  SubsetKeyBegin2(Sorting);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(Sorting);
  KeySegment(SerNr);
  SubsetKeyBegin2(SVONr);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(SVONr);
  KeySegment(SerNr);
  SubsetKeyBegin2(JobNr);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(JobNr);
  KeySegment(SerNr);
  SubsetKeyBegin2(PRCode);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(PRCode);
  KeySegment(SerNr);
  SubsetKeyBegin2(DelAddrCode);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(DelAddrCode);
  KeySegment(SerNr);
  KeyBegin(DisputedFlag);
  KeySegment(DisputedFlag);
  KeySegment(SerNr);
  KeyBegin(OfficialSerNr);
  KeySegment(OfficialSerNr);
  KeySegment(SerNr);
  KeyBegin(InvType);
  KeySegment(InvType);
  KeySegment(SerNr);
  KeyBegin(FiscalFlag);
  KeySegment(FiscalFlag);
  KeySegment(SerNr);  
  KeyBegin(CustDate);
  KeySegment(CustCode);
  KeySegment(InvDate);
  KeySegment(SerNr);
  KeyBegin(OKFlagPayDate);
  KeySegment(OKFlag);
  KeySegment(PayDate);
  KeySegment(SerNr);
  SubsetKeyBegin2(OKFlagSalesMan);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(OKFlag);
  KeySegment(SalesMan);
  KeySegment(SerNr);
  KeyBegin(Cashup);
  KeySegment(MachineName);
  KeySegment(DrawerCode);
  KeySegment(TransDate);
  KeySegment(TransTime);
  KeySegment(SerNr);
  KeyBegin(EInvToExport);
  KeySegment(OKFlag);
  KeySegment(EInvFunc);
  KeySegment(EInvExpFlag);
  KeySegment(SerNr);
  
  KeyBegin(OfficialSerNrDate);
  KeySegment(OfficialSerNr);
  KeySegment(InvDate);
  KeySegment(SerNr);  
  
  KeyBegin(TransDateCust);
  KeySegment(TransDate);
  KeySegment(CustCode);
  KeySegment(SerNr);
/* Not used
  SubsetKeyBegin2(ArtCodeLoc);
  StoreInBaseKey;
  AppendMatrixFieldToKeyName(ArtCode,0);
  KeySegment(Location);  
  KeySegment(SerNr);
  KeyBegin(Region);
  KeySegment(Region);
  KeySegment(SerNr);
*/
  KeyBegin(OKFlagTransDate);
  KeySegment(OKFlag);
  KeySegment(UpdStockFlag);
  KeySegment(TransDate);
  KeySegment(SerNr);

  KeyBegin(TransDateOffSerNr); // Only used in Arg. VAT Sales Report....
  KeySegment(TransDate);
  KeySegment(OfficialSerNr);
  KeySegment(SerNr);
/* Incorrect index. Only add AppendMatrix if you KNOW that it will help basically everyone, or if it will make it possible to remove a support register
  SubSetKeyBegin2(Object);
  AppendListFieldToKeyName(Objects);
  AppendMatrixFieldToKeyName(Objects,0);
  KeySegment(CustCode);
  KeySegment(SerNr);
*/

  KeyBegin(CustOKFlag); // Made it, then didn't need it, but found another place to use it, so I kept it :)
  KeySegment(OKFlag);
  KeySegment(CustCode);
  KeySegment(SerNr);
  KeyBegin(TerminalID);
  KeySegment(TerminalID);
  KeySegment(FiscalDeviceSeqNr);
  KeySegment(SerNr);
  KeyBegin(RegDate);
  KeySegment(RegDate);
  KeySegment(RegTime);
  KeySegment(SerNr);
  KeyBegin(MachineName);
  KeySegment(MachineName);
  KeySegment(TransDate);
  KeySegment(TransTime);
  KeySegment(SerNr);

  SubSetKeyBegin2(MBRCode);
  AppendMatrixFieldToKeyName(MBRCode,0);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(PriceList);
  KeySegment(PriceList);
  KeySegment(TransDate);
  KeySegment(SerNr);

  SubSetKeyBegin2(OpenSerNr);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(SerNr);
  SubSetKeyBegin2(OpenInvDate);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(InvDate);
  KeySegment(SerNr);
  SubSetKeyBegin2(OpenCustCode);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(CustCode);
  KeySegment(SerNr);
  SubSetKeyBegin2(OpenName);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(SalesMan);
  KeySegment(Addr0);
  KeySegment(SerNr);

  KeyBegin(RetNr);
  KeySegment(RetNr);
  KeySegment(SerNr);

  KeyBegin(OpenOfficialSerNr2);
  KeySegment(OfficialSerNr2);
  KeySegment(SerNr);
  KeyBegin(Prntdf);
  KeySegment(Prntdf);
  KeySegment(SerNr);

  KeyBegin(ServiceDelDate);
  KeySegment(ServiceDelDate);
  KeySegment(SerNr);
  // Edit Start ---------------------------------------------- Edit Start
	//Thursday, 14 August 2014 11:30:24
	
  KeyBegin(PRCodePayDate);
  KeySegment(PRCode);
  KeySegment(PayDate);
	KeySegment(SerNr);
	
	KeyBegin(PayDatePRCode);
	KeySegment(PayDate);
  KeySegment(PRCode);
	KeySegment(SerNr);
	
	// Edit End ---------------------------------------------- Edit End
	
  EndRecord;    	  	
  
  
  RecordBegin(VIVc,-,"VIVc5");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(VISerBlock);                      
  RecordField(InvDate,M4Date,0,0);
  RecordField(PayVal,M4Val,0,0);
  RecordField(RegDate,M4Date,0,0);
  RecordField(InvoiceNr,M4Str,60,0);
  RecordField(OKFlag,M4Mark,0,0);
  RecordField(PayDeal,M4Code,2,0);
  RecordField(VECode,M4Code,20,VEVc);
  RecordField(VEName,M4Str,60,0);
  RecordField(DueDate,M4Date,0,0);
  RecordField(RebDate,M4Date,0,0);
  RecordField(RefStr,M4Str,60,0);
  RecordField(BankAcc,M4Str,60,0);
  RecordField(Sign,M4Code,10,UserVc);
  RecordField(RebVal,M4Val,0,0);
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(InvType,M4Int,0,0);
  RecordField(VATVal,M4Val,0,0);
  RecordField(APAcc,M4Code,10,AccVc);
  RecordField(VEFactoring,M4Code,20,VEVc);
  RecordField(BankName,M4Str,20,0);
  RecordField(OKPersons,M4UStr,60,UserVc);
//  RecordField(OKSign,M4Code,10,UserVc);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(ToRateB1,M4Rate,0,0);
  RecordField(ExportFlag,M4Int,0,0);
  RecordField(VEVatCode,M4Code,10,VATCodeBlock);
  RecordField(Comment,M4Str,60,0);
  RecordField(CalcVATVal,M4Val,0,0);
  RecordField(Closed,M4Int,0,0);
  RecordField(Objects,M4UStr,60,ObjVc);
  RecordField(PrelBook,M4Int,0,0);
  RecordField(BankCode,M4Str,10,0);
  RecordField(CredInv,M4Long,0,0);
  RecordField(xStatFlag,M4Int,0,0);
  RecordField(CORefStr,M4Str,60,0);
  RecordField(ExportedFlag,M4Int,0,0);
  RecordField(POSerNr,M4Long,0,0); /* Changed the name */ 
  RecordField(FrRate,M4Rate,0,0); 
  RecordField(ToRateB2,M4Rate,0,0); 
  RecordField(BaseRate1,M4Rate,0,0); 
  RecordField(BaseRate2,M4Rate,0,0); 
  RecordField(CredMark,M4Str,1,0);
  RecordField(APonTR,M4Int,0,0);
  RecordField(Invalid,M4Int,0,0);
  FieldIsInvalid(Invalid);
  RecordField(VATNr,M4Str,20,0);
  RecordField(LangCode,M4Code,5,0);
  RecordField(InstallmentInv,M4Int,0,0);
  RecordField(POCQStatNr,M4Long,0,0);
  RecordField(SortCode,M4Str,10,0);
  RecordField(SalesGroup,M4Code,5,SalesGroupVc);
  FieldIsGroup(SalesGroup);
  RecordField(SalesMan,M4Code,10,UserVc);
  FieldIsUser(SalesMan);
  RecordField(POCOSerNr,M4Long,0,0);
  RecordField(HoldSum,M4Val,0,0);
  RecordField(DiffVal,M4Val,0,0);
  RecordField(BarCode,M4Str,60,0);
  RecordField(StatVal,M4Val,0,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(xAcceptanceState,M4Int,0,0);
  RecordField(xAcceptanceGroup,M4Code,20,AcceptGroupVc);
  RecordField(WithHoldingTax,M4Val,0,0);
  RecordField(SupCurVal,M4Val,0,0);  
  RecordField(RcvDate,M4Date,0,0);
  RecordField(TAX1Sum,M4Val,0,0);
  RecordField(ServiceDelDate,M4Date,0,0);
  RecordField(OfficialSerNr,M4Str,100,0);
  RecordField(TAX2Sum,M4Val,0,0);
  RecordField(RebDate2,M4Date,0,0);
  RecordField(TaxAuthID,M4Str,40,0);
  RecordField(TaxAuthIDCC,M4Str,20,0);
  RecordField(BranchID,M4Code,20,VEVc);
  RecordField(NoTAXonVAT,M4Long,0,0);
  RecordField(IVNr,M4Long,0,0);
  RecordField(CAE,M4Str,20,0);
  RecordField(CAEExpiry,M4Date,0,0);
  RecordField(Region,M4Code,20,RegionVc);
  RecordField(OrderType,M4Set,433,0);
  RecordField(RebVal2,M4Val,0,0);
  RecordField(AcceptanceStatus,M4Int,0,0);
  RecordField(VETaxTemplateCode,M4Code,10,TaxTemplateVc);
  RecordField(TaxMatrix,M4PackedMatrix,0,TaxMatrixVc);
  RecordField(SelfBilling,M4Int,0,0);
  RecordField(FiscalFlag,M4Mark,0,0);
  RecordField(VATFrRate,M4Rate,0,0); 
  RecordField(VATToRateB1,M4Rate,0,0);
  RecordField(VATToRateB2,M4Rate,0,0); 
  RecordField(VATBaseRate1,M4Rate,0,0); 
  RecordField(VATBaseRate2,M4Rate,0,0); 
  RecordField(Addr1,M4Str,60,0);
  RecordField(Addr2,M4Str,60,0);
  RecordField(Addr3,M4Str,60,0);
  RecordField(InvAddr3,M4Str,60,0);
  RecordField(InvAddr4,M4Str,60,0);
  RecordField(InvCountry,M4Code,5,0);
  RecordField(Phone,M4Str,20,0);
  RecordField(Fax,M4Str,20,0);
  RecordField(CAEAFlag,M4Int,0,0);
  RecordField(PRCode,M4Code,20,PRVc);
  RecordField(OrgVE,M4Code,20,VEVc);
  RecordField(AcceptanceBy,M4List,200,UserVc);
  RecordField(AcceptanceFYI,M4List,200,UserVc);
  RecordField(PaymentCode,M4Code,5,0);
  RecordField(VELegalForm,M4Code,10,0);
  RecordField(pdays,M4Long,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(stp,M4Int,0,0);
  ArrayField(ovst,M4Int,0,0);
  ArrayField(AccNumber,M4Code,10,AccVc);
  ArrayField(Objects,M4UStr,60,ObjVc);
  ArrayField(Comment,M4Str,60,0);
  ArrayField(Sum,M4Val,0,0);
  ArrayField(Item,M4Code,20,INVc);
  ArrayField(qty,M4UVal,0,0);
  ArrayField(PRCode,M4Code,20,PRVc);
  ArrayField(VATCode,M4Code,10,VATCodeBlock);
  ArrayField(VEPNr,M4Long,0,0);
  ArrayField(PrepayNr,M4Long,0,0);
  ArrayField(PrepayAmount,M4Val,0,0);
  ArrayField(OrdRow,M4Long,0,0);
  ArrayField(VATVal,M4Val,0,0);
  ArrayField(PeriodCode,M4Code,10,0);
  ArrayField(ACShort,M4Code,5,0);
  ArrayField(PUNr,M4Long,0,0);
  ArrayField(PURow,M4Long,0,0);
  ArrayField(VarianceAmount,M4Val,0,0);
  ArrayField(POCORow,M4Long,0,0);
  ArrayField(TAX2Prc,M423Val,0,0);
  ArrayField(PONr,M4Long,0,0);
  ArrayField(StockType,M4Set,359,0); 
  ArrayField(SerialNr,M4Str,30,0);
  ArrayField(WHTax,M4Code,2,0);
  ArrayField(TaxTemplateCode,M4UStr,60,TaxTemplateVc);
  ArrayField(TaxMatrix,M4PackedMatrix,0,TaxMatrixVc);
  ArrayField(InventoryNr,M4Str,30,0);
  ArrayField(AssetTransType,M4Set,508,0);
  ArrayField(OrderType,M4Set,433,0);
  EndArray;
  MainKeyBegin(SerNr,1);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(SerNr);
  SubsetKeyBegin2(ExportedFlag);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(ExportedFlag);
  KeySegment(SerNr);
  SubsetKeyBegin2(InvDate);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(InvDate);
  KeySegment(SerNr);
  SubsetKeyBegin2(TransDate);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(TransDate);
  KeySegment(SerNr);
  SubsetKeyBegin2(VECode);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(VECode);
  KeySegment(SerNr);
  SubsetKeyBegin2(OKFlag);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(OKFlag);
  KeySegment(SerNr);
  SubsetKeyBegin2(VEName);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(VEName);
  KeySegment(VECode);
  KeySegment(SerNr);
  SubsetKeyBegin2(InvoiceNr);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(InvoiceNr);
  KeySegment(VECode);
  KeySegment(SerNr);
  SubsetKeyBegin2(CredInv);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(CredInv);
  KeySegment(SerNr);
  SubsetKeyBegin2(CORefStr);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(CORefStr);
  KeySegment(SerNr);
  SubsetKeyBegin2(RefStr);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(RefStr);
  KeySegment(SerNr);
  SubsetKeyBegin2(POSerNr);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(POSerNr);
  KeySegment(SerNr);  
  SubsetKeyBegin2(POCQStatNr);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(POCQStatNr);
  KeySegment(SerNr);  
  SubsetKeyBegin2(PayVal);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(PayVal);
  KeySegment(SerNr);  
  SubsetKeyBegin2(InvType);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(InvType);
  KeySegment(SerNr);  
  SubsetKeyBegin2(POCOSerNr);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(POCOSerNr);
  KeySegment(SerNr);  
  SubsetKeyBegin2(PrepayNr);
  StoreInBaseKey;
  AppendMatrixFieldToKeyName(PrepayNr,0);
  KeySegment(SerNr);  
  SubsetKeyBegin2(RowPONr);
  StoreInBaseKey;
  AppendMatrixFieldToKeyName(PONr,0);
  KeySegment(SerNr);

  SubsetKeyBegin2(Item);
  StoreInBaseKey;
  AppendMatrixFieldToKeyName(Item,0);
  KeySegment(TransDate);
  KeySegment(SerNr);
  SubsetKeyBegin2(RowPUNr);
  StoreInBaseKey;
  AppendMatrixFieldToKeyName(PUNr,0);
  KeySegment(SerNr);
  KeyBegin(VEDate);
  KeySegment(VECode);
  KeySegment(InvDate);
  KeySegment(SerNr);
  KeyBegin(ServiceDelDate);
  KeySegment(ServiceDelDate);
  KeySegment(SerNr);
  
  // Edit Start ---------------------------------------------- Edit Start
	//Thursday, 14 August 2014 11:30:24
	
  KeyBegin(PRCodeDueDate);
  KeySegment(PRCode);
  KeySegment(DueDate);
	KeySegment(SerNr);
	
	KeyBegin(DueDatePRCode);
	KeySegment(DueDate);
  KeySegment(PRCode);
	KeySegment(SerNr);
	
	// Edit End ---------------------------------------------- Edit End
  
  EndRecord;
  
  
  RecordBegin(TBBUVc,-,"tbbu");
  RecordField(PRCode,M4Code,20,PRVc);
  RecordField(PRName,M4Str,60,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(BudTime,M4Int,0,0);
  RecordField(BudOther,M4Int,0,0);
  RecordField(SumTime,M4Val,0,0);
  RecordField(SumOther,M4Val,0,0);
  RecordField(Text0,M4Str,100,0);
  RecordField(Text1,M4Str,100,0);
  RecordField(Text2,M4Str,100,0);
  RecordField(Text3,M4Str,100,0);
  RecordField(Text4,M4Str,100,0);
  RecordField(Text5,M4Str,100,0);
  RecordField(Text6,M4Str,100,0);
  RecordField(Text7,M4Str,100,0);
  RecordField(Text8,M4Str,100,0);
  RecordField(Text9,M4Str,100,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(CustCode,M4Code,20,CUVc);
  RecordField(CustName,M4Str,60,0);
  RecordField(BudStocked,M4Int,0,0);
  RecordField(SumStocked,M4Val,0,0);
  RecordField(BudMaterial,M4Int,0,0);
  RecordField(SumMaterial,M4Val,0,0);
  RecordField(PRLeader,M4Code,10,UserVc); /* PR Leader */
  RecordField(LangCode,M4Code,5,0);
  RecordField(Markup,M4PrcStr,10,0);
  RecordField(SalesGroup,M4UStr,30,SalesGroupVc);
  FieldIsGroup(SalesGroup);
  RecordField(TransDate,M4Date,0,0);
  RecordField(TotSum,M4Val,0,0);
  RecordField(SalesMan,M4UStr,60,UserVc);
  FieldIsUser(SalesMan);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(FrRate,M4Rate,0,0); 
  RecordField(ToRateB1,M4Rate,0,0);
  RecordField(ToRateB2,M4Rate,0,0); 
  RecordField(BaseRate1,M4Rate,0,0); 
  RecordField(BaseRate2,M4Rate,0,0); 
  RecordField(Members,M4UStr,200,0);
  FieldIsUser(Members);
  RecordField(AcceptanceStatus,M4Int,0,0);
  RecordField(AcceptanceBy,M4List,200,UserVc);
  RecordField(AcceptanceFYI,M4List,200,UserVc);
  RecordField(OKFlag,M4Mark,0,0);// Edit ************************** Tuesday, 19 August 2014 09:28:49
  RecordField(GPTot,M423Val,0,0); //Edit***************************Sasha2,10:05 08.09.2014
  RecordField(GPTotPercent,M423Val,0,0); //Edit***************************Sasha2,10:05 08.09.2014
  RecordField(Sum3,M4Val,0,0);////Edit by Victor,11:40 09.09.2014
  RecordField(TotSumVAT,M4Val,0,0);////Edit by Victor,11:40 10.09.2014
  RecordField(NoTAXonVAT,M4Long,0,0);//Edit by Victor, 10.09.2014
  RecordField(InclVAT,M4Int,0,0);//Edit by Victor, 10.09.2014
  ArrayBegin(Math,-,1);
  ArrayField(ArtCode,M4Code,20,INVc);
  ArrayField(Spec,M4Str,100,0);
  ArrayField(Qty,M4UVal,0,0);
  ArrayField(Price,M423Val,0,0);
  ArrayField(Discount,M4Qty,0,0);
  ArrayField(Sum,M4Val,0,0);
  ArrayField(EMCode,M4Code,10,UserVc);
  ArrayField(RowType,M4Set,12,0);
  ArrayField(BudType,M4Set,13,0);
  ArrayField(ItemType,M4Int,0,0);
  ArrayField(InvAfter,M4Date,0,0);
  ArrayField(Invoiced,M4Long,0,0);
  ArrayField(Comment,M4Str,60,0);
  ArrayField(Cost,M423Val,0,0);
  ArrayField(GP,M423Val,0,0);
  ArrayField(TimeClass,M4Code,5,0);
  ArrayField(Objects,M4UStr,60,ObjVc);
  ArrayField(InvDate,M4Date,0,0);
  ArrayField(FromTBQT,M4Int,0,0);
  ArrayField(stp,M4Int,0,0);
  ArrayField(Markup,M4PrcStr,10,0);
  ArrayField(GM,M41Val,0,0);
  ArrayField(Recepy,M4Code,20,RecVc);
  ArrayField(JobGroup,M4Code,5,EGVc);
  ArrayField(PRStage,M4Code,10,PRStageVc);
  ArrayField(PRStageSign,M4Code,10,UserVc);
  ArrayField(MotherArtCode,M4Code,20,INVc);
  ArrayField(RecipeQuant,M4Qty,0,0);
  ArrayField(VATCode,M4Code,10,VATCodeBlock); //Edit***************************Sasha2,12:00 08.09.2014
  EndArray;
  MainKeyBegin(MainKey,1);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  AppendListFieldToKeyName(Members);
  KeySegment(PRCode);
  SubsetKeyBegin2(PRName);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  AppendListFieldToKeyName(Members);
  KeySegment(PRName);
  KeySegment(PRCode);
  SubsetKeyBegin2(CustCode);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  AppendListFieldToKeyName(Members);
  KeySegment(CustCode);
  KeySegment(PRCode);
  SubsetKeyBegin2(CustName);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  AppendListFieldToKeyName(Members);
  KeySegment(CustName);
  KeySegment(PRCode);
  SubsetKeyBegin2(TransDate);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  AppendListFieldToKeyName(Members);
  KeySegment(TransDate);
  KeySegment(PRCode);
  SubsetKeyBegin2(SalesMan);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  AppendListFieldToKeyName(Members);
  KeySegment(SalesMan);
  KeySegment(PRCode);
  EndRecord;
  
  RecordBegin(PRVc,-,"pr3");
  RecordField(Code,M4Code,20,PRVc);
  SerialNoBlock(PRSerBlock);                    
  RecordField(CustCode,M4Code,20,CUVc);
  RecordField(Name,M4Str,60,0);
  RecordField(Desc0,M4Str,60,0);
  RecordField(Desc1,M4Str,60,0);
  RecordField(Desc2,M4Str,60,0);
  RecordField(CustName,M4Str,60,0);
  RecordField(Terminated,M4Int,0,0);
  RecordField(StopInvoicing,M4Int,0,0);
  RecordField(Leader,M4Code,10,UserVc);
  RecordField(LeaderName,M4Str,60,0);
  RecordField(StartDate,M4Date,0,0);
  FieldIsTransDate(StartDate);
  RecordField(EndDate,M4Date,0,0);
  RecordField(InvoiceTime,M4Int,0,0);
  RecordField(InvoicePurch,M4Int,0,0);
  RecordField(InvoiceStock,M4Int,0,0);
  RecordField(NoInvBefore,M4Date,0,0);
  RecordField(BuildOn,M4Int,0,0);
  RecordField(Contact,M4Str,60,0);
  RecordField(PRCodeOnInv,M4Int,0,0);
  RecordField(PRNameOnInv,M4Int,0,0);
  RecordField(PRContOnInv,M4Int,0,0);
  RecordField(PRTextOnInv,M4Int,0,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(TimexSum,M4Val,0,0); // May be removed
  RecordField(PurSum,M4Val,0,0);
  RecordField(TotSum,M4Val,0,0);
  RecordField(TimBudModel,M4Int,0,0);
  RecordField(PurBudModel,M4Int,0,0);
  RecordField(Type,M4Int,0,0);
  RecordField(PRClass,M4Code,5,0);
  RecordField(Text0,M4Str,60,0);
  RecordField(Text1,M4Str,60,0);
  RecordField(Text2,M4Str,60,0);
  RecordField(Text3,M4Str,60,0);
  RecordField(Text4,M4Str,60,0);
  RecordField(Text5,M4Str,60,0);
  RecordField(Text6,M4Str,60,0);
  RecordField(Text7,M4Str,60,0);
  RecordField(Text8,M4Str,60,0);
  RecordField(Text9,M4Str,60,0);
  RecordField(DownPaySent,M4Val,0,0);
  RecordField(DownPayRedcd,M4Val,0,0);
  RecordField(Objects,M4UStr,60,ObjVc);
  RecordField(TimeAvgPriOnInv,M4Int,0,0);
  RecordField(TimeAvgQtyOnInv,M4Int,0,0);
  RecordField(PurcAvgPriOnInv,M4Int,0,0);
  RecordField(PurcAvgQtyOnInv,M4Int,0,0);
  RecordField(InvoiceMaterial,M4Int,0,0);
  RecordField(StatMark,M4Mark,0,0);
  RecordField(MotherCode,M4Code,20,PRVc);
  RecordField(LangCode,M4Code,5,0);
  RecordField(InvSepTB,M4Int,0,0);
  RecordField(InvSepPB,M4Int,0,0);
  RecordField(SalesGroup,M4UStr,30,SalesGroupVc);
  FieldIsGroup(SalesGroup);
  RecordField(PrSalesMan,M4UStr,60,UserVc);
  FieldIsUser(PrSalesMan);
  RecordField(Email,M4Str,200,0);
  RecordField(RetSum,M4Val,0,0);
  RecordField(RetInvd,M4Val,0,0);
  RecordField(Members,M4UStr,200,0);
  FieldIsUser(Members);
  RecordField(FinishedDate,M4Date,0,0);
  RecordField(ItemPerDay,M4Int,0,0);
  RecordField(PRLeaderOnInv,M4Int,0,0);
  RecordField(PeriodOnInv,M4Int,0,0);
  RecordField(Leader2,M4Code,10,UserVc);
  RecordField(Leader2Name,M4Str,60,0);
  RecordField(Leader3,M4Code,10,UserVc);
  RecordField(Leader3Name,M4Str,60,0);
  RecordField(Leader4,M4Code,10,UserVc);
  RecordField(Leader4Name,M4Str,60,0);
  RecordField(PRStage,M4Code,10,0);
  RecordField(PRClassification,M4UStr,200,PRClVc);  
  RecordField(Leader5,M4Code,10,UserVc);
  RecordField(Leader5Name,M4Str,60,0);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(UseWIP,M4Int,0,0);
  RecordField(TBIVItemsUsage,M4Int,0,0);
  RecordField(MaxRetSum,M4Val,0,0);
  RecordField(PayDeal,M4Code,2,0);
  RecordField(CustOrdNr,M4Str,60,0);
  RecordField(AddDoc1Nr,M4Str,60,0); //Edit***************************Sasha2,17:26 09.09.2014
  RecordField(AddDoc1Date,M4Date,0,0); //Edit***************************Sasha2,17:27 09.09.2014
  RecordField(AddDoc1Sum,M4Val,0,0); //Edit***************************Sasha2,17:28 09.09.2014
  RecordField(AddDoc2Nr,M4Str,60,0); //Edit***************************Sasha2,17:26 09.09.2014
  RecordField(AddDoc2Date,M4Date,0,0); //Edit***************************Sasha2,17:27 09.09.2014
  RecordField(AddDoc2Sum,M4Val,0,0); //Edit***************************Sasha2,17:28 09.09.2014
  RecordField(Scope,M4Str,60,0); //Edit***************************Sasha2,16:49 11.09.2014
  RecordField(PayMode,M4UStr,20,0);// Edit ************************** Friday, 12 September 2014 16:02:55
  RecordField(BUOKFlag,M4Mark,0,0);// Edit ************************** Friday, 12 September 2014 16:19:55
  ArrayBegin(Math,-,1);
  ArrayField(PlanDate,M4Date,0,0);
  ArrayField(InvNr,M4Long,0,IVVc);
  ArrayField(ValStr,M4PrcStr,20,0);
  ArrayField(Person,M4Code,10,UserVc);
  ArrayField(Comment,M4Str,60,0);
  ArrayField(InvFlag,M4Set,33,0);
  ArrayField(RetentionPrc,M4Val,0,0);
  ArrayField(RowType,M4Set,410,0);
  ArrayField(PRStage,M4Code,10,PRStageVc);
  EndArray;
  MainKeyBegin(Code,1);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(PrSalesMan);
  AppendListFieldToKeyName(Members);
  KeySegment(Code);
  SubsetKeyBegin2(CustCode);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(PrSalesMan);
  AppendListFieldToKeyName(Members);
  KeySegment(CustCode);
  KeySegment(Code);
  SubsetKeyBegin2(CustName);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(PrSalesMan);
  AppendListFieldToKeyName(Members);
  KeySegment(CustName);
  KeySegment(Code);
  SubsetKeyBegin2(PRLeader);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(PrSalesMan);
  AppendListFieldToKeyName(Members);
  KeySegment(Leader);
  KeySegment(CustCode);
  KeySegment(Code);
  SubsetKeyBegin2(PRClass);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(PrSalesMan);
  AppendListFieldToKeyName(Members);
  KeySegment(PRClass);
  KeySegment(Code);
  SubsetKeyBegin2(Name);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(PrSalesMan);
  AppendListFieldToKeyName(Members);
  KeySegment(Name);
  KeySegment(Code);
  SubsetKeyBegin2(StatMark);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(PrSalesMan);
  AppendListFieldToKeyName(Members);
  KeySegment(StatMark);
  KeySegment(Code);
  KeyBegin(MotherCode);
  KeySegment(MotherCode);
  KeySegment(Code);
  SubsetKeyBegin2(PrSalesMan);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(PrSalesMan);
  AppendListFieldToKeyName(Members);
  KeySegment(PrSalesMan);
  KeySegment(Code);
  KeyBegin(Active);
  KeySegment(Terminated);
  KeySegment(Code);
  SubsetKeyBegin2(ActCode); // should not be mainkey
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(PrSalesMan);
  AppendListFieldToKeyName(Members);
  KeySegment(Code);
  SubsetKeyBegin2(ActCustCode);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(PrSalesMan);
  AppendListFieldToKeyName(Members);
  KeySegment(CustCode);
  KeySegment(Code);
  SubsetKeyBegin2(ActCustName);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(PrSalesMan);
  AppendListFieldToKeyName(Members);
  KeySegment(CustName);
  KeySegment(Code);
  SubsetKeyBegin2(ActPRLeader);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(PrSalesMan);
  KeySegment(Leader);
  KeySegment(CustCode);
  KeySegment(Code);
  SubsetKeyBegin2(ActPRClass);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(PrSalesMan);
  KeySegment(PRClass);
  KeySegment(Code);
  SubsetKeyBegin2(ActName);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(PrSalesMan);
  AppendListFieldToKeyName(Members);
  KeySegment(Name);
  KeySegment(Code);
  SubsetKeyBegin2(ActStatMark);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(PrSalesMan);
  AppendListFieldToKeyName(Members);
  KeySegment(StatMark);
  KeySegment(Code);
  SubsetKeyBegin2(PRStage);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(PrSalesMan);
  AppendListFieldToKeyName(Members);
  KeySegment(PRStage);
  KeySegment(Code);
  SubsetKeyBegin2(ActPRStage);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesGroup);
  AppendListFieldToKeyName(PrSalesMan);
  AppendListFieldToKeyName(Members);
  KeySegment(PRStage);
  KeySegment(Code);
  EndRecord;
  
  BlockBegin(ProjScopeBlock,-,""); //Edit***************************Sasha2,17:27 11.09.2014 {
	RecordField(Math,M4Matrix,0,0);
	ArrayBegin(Math,-,1);
	ArrayField(Code,M4Code,20,0);
	ArrayField(Name,M4Str,200,0);
	EndArray;
  EndBlock; //Edit***************************Sasha2,17:27 11.09.2014 }
  
  RecordBegin(TemplateTBBUVc,-,""); //Edit***************************Sasha2,11:25 12.09.2014 {
  RecordField(PRCLass,M4Code,20,0);
  RecordField(Scope,M4Str,60,0);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(ArtCode,M4Code,20,INVc);
  ArrayField(Spec,M4Str,100,0);
  ArrayField(Qty,M4UVal,0,0);
  ArrayField(Comment,M4Str,60,0); 
  ArrayField(stp,M4Int,0,0);
  EndArray;
  MainKeyBegin(MainKey,0);
  KeySegment(PRCLass);
  KeySegment(Scope);
  EndRecord; //Edit***************************Sasha2,11:25 12.09.2014 }

   RecordBegin(ADJVc,-,"adj"); //Acts of Done Jobs		*** Edit by Victor 12.09.14
  RecordField(SerNr,M4Long,0,0);               
  RecordField(TransDate,M4Date,0,0);
  RecordField(PRCode,M4Code,20,PRVc);
  RecordField(PRName,M4Str,60,0);
  RecordField(Sum,M4Val,0,0);
	RecordField(ADJNum,M4Str,60,0);
  RecordField(Comment,M4Str,100,0);
    
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  
  KeyBegin(PRCode);
  KeySegment(PRCode);
  KeySegment(TransDate);
  KeySegment(SerNr);
  
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  
  KeyBegin(TransDatePRCode);
  KeySegment(TransDate);
  KeySegment(PRCode);
  KeySegment(SerNr);
  
  EndRecord;
  
  RecordBegin(SAVc,-,"supag"); //supplementary agreement		*** Edit by Victor 12.09.14
  RecordField(SerNr,M4Long,0,0);               
  RecordField(TransDate,M4Date,0,0);
  RecordField(PRCode,M4Code,20,PRVc);
  RecordField(PRName,M4Str,60,0);
  RecordField(Sum,M4Val,0,0);
	RecordField(SANum,M4Str,60,0);
  RecordField(Comment,M4Str,100,0);
    
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  
  KeyBegin(PRCode);
	KeySegment(PRCode);
  KeySegment(TransDate);
  KeySegment(SerNr);
  
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  
  KeyBegin(TransDatePRCode);
  KeySegment(TransDate);
  KeySegment(PRCode);
  KeySegment(SerNr);
  
  EndRecord;
  
  RecordBegin(CUVc,-,"cu5");
  ImpExpLevel(1);
  NewAutosyncRegister(kSyncDirectionToClient,true);
  RecordField(Code,M4Code,20,CUVc);
  SerialNoBlock(CUSerBlock);                    
  RecordField(Name,M4Str,200,0);
  RecordField(Person,M4Str,60,0);
  RecordField(WarnText1,M4Str,255,0);
  RecordField(InvAddr0,M4Str,60,0);
  RecordField(InvAddr1,M4Str,60,0);
  RecordField(InvAddr2,M4Str,60,0);
  RecordField(InvoiceToCode,M4Code,20,CUVc);
  RecordField(DelAddr0,M4Str,60,0); //Addr3
  RecordField(DelAddr1,M4Str,60,0); //Addr4
  RecordField(DelAddr2,M4Str,60,0); //Addr5
  RecordField(Phone,M4Str,20,0);
  RecordField(Fax,M4Str,20,0);
  RecordField(CustCat,M4Code,5,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(PayDeal,M4Code,2,0);
  RecordField(ExportFlag,M4Int,0,0);
  RecordField(AccFlag,M4Int,0,0);
  RecordField(Objects,M4UStr,60,ObjVc);
  RecordField(InterestFlag,M4Int,0,0);
  RecordField(VATNr,M4Str,20,0);
  RecordField(CountryCode,M4Code,5,0);
  RecordField(SearchKey,M4UStr,10,0);
  RecordField(RemndrFlag,M4Int,0,0);
  RecordField(LangCode,M4Code,5,0);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(OnAccount,M4Int,0,0);
  RecordField(SalesMan,M4Code,10,UserVc);
  FieldIsUser(SalesMan);
  RecordField(CreditLimit,M4Val,0,0);
  RecordField(ShipDeal,M4Code,5,0);
  RecordField(ShipMode,M4Code,5,0);
  RecordField(VATCode,M4Code,10,VATCodeBlock);
  RecordField(Department,M4Str,60,0);
  RecordField(OrderComment,M4Str,60,0);
  RecordField(FreightNr,M4Str,20,0);
  RecordField(PLCode,M4Code,5,0);
  RecordField(RebCode,M4Code,5,0);
  RecordField(Classification,M4List,200,CClassVc);
  RecordField(blockedFlag,M4Int,0,0);
  RecordField(DateChanged,M4Date,0,0);
  RecordField(AccOperator,M4Str,60,0);
  RecordField(SecAccount,M4Code,20,0);
  RecordField(BankAccount,M4Str,60,0);
  RecordField(JobDesc,M4Str,60,0);
  RecordField(CustType,M4Int,0,0);
  RecordField(ComCode,M4Code,5,0);
  RecordField(Sorting,M4Str,20,0);
  RecordField(RegNr1,M4Str,20,0);
  RecordField(RegNr2,M4Str,20,0);
  RecordField(CPRNr,M4Str,20,0);
  RecordField(wwwAddr,M4Str,60,0);
  RecordField(CompItemCode,M4Code,10,0);
  RecordField(ANACode,M4Str,20,0);
  RecordField(EDIFlag,M4Int,0,0);
  RecordField(eMail,M4Str,100,0);
  RecordField(IntRate,M4Val,0,0);
  RecordField(TheirCode,M4Str,60,0);
  RecordField(PriceBasedOn,M4Int,0,0);
  RecordField(DeliveryBasedOn,M4Int,0,0);
  RecordField(SalesGroup,M4Code,5,SalesGroupVc);
  FieldIsGroup(SalesGroup);
  RecordField(SortCode,M4Str,10,0);
  RecordField(AllowLogin,M4Int,0,0);
  RecordField(Password,M4Long,0,0);
  RecordField(FTPLogin,M4Int,0,0);
  RecordField(DateCreated,M4Date,0,0);
  RecordField(EGOFlag,M4Int,0,0);
  RecordField(InvAddr3,M4Str,60,0);
  RecordField(DelAddr3,M4Str,60,0);
/* Not OK with Karl */
  RecordField(xArea,M4Str,20,0);
  RecordField(xAreaName,M4Str,60,0);
  RecordField(InvAddr4,M4Str,60,0);
  RecordField(DelAddr4,M4Str,60,0);
  RecordField(WebConf,M4Code,20,0);
  RecordField(WebStartPage,M4Str,60,0);
  RecordField(FreightCode,M4Code,5,0);
  RecordField(MainDispGroup,M4Code,5,0);
  RecordField(AutoGiro,M4Int,0,0);
  RecordField(OnHoldFlag,M4Int,0,0);
  RecordField(ColectionFlag,M4Int,0,0);
  RecordField(LocationCode,M4Code,10,LocationVc);
  RecordField(WebDisplays,M4Code,5,WebDisplayVc);
  RecordField(Mobile,M4Str,20,0);
  RecordField(NoLetterPosting,M4Int,0,0); // Temp until we get the Customer Lists
  RecordField(FiscalFlag,M4Int,0,0);
  RecordField(UserStr1,M4Str,255,0);
  RecordField(UserStr2,M4Str,255,0);
  RecordField(UserStr3,M4Str,255,0);
  RecordField(UserStr4,M4Str,255,0);
  RecordField(UserStr5,M4Str,255,0);
  RecordField(UserVal1,M4UVal,0,0);
  RecordField(UserVal2,M4UVal,0,0);
  RecordField(UserVal3,M4UVal,0,0);
  RecordField(UserDate1,M4Date,0,0);
  RecordField(UserDate2,M4Date,0,0);
  RecordField(UserDate3,M4Date,0,0);
/*from Supplier*/  
  RecordField(AccAP,M4Code,10,AccVc);
  RecordField(AccCost,M4Code,10,AccVc);
  RecordField(Bank,M4Str,60,0);
  RecordField(OnAccAccAP,M4Code,10,AccVc);
  RecordField(MinOrdSum,M4Val,0,0);
  RecordField(PurchAcc,M4Code,10,AccVc);
  RecordField(RefStr,M4Str,60,0);
  RecordField(WithPayMode,M4UStr,20,0);
  RecordField(RetainPrc,M4PrcStr,10,0);
  RecordField(NoMailPosting,M4Int,0,0); // Temp until we get the Customer Lists
  RecordField(VEType,M4Int,0,0);
  RecordField(CUType,M4Int,0,0);
  RecordField(VEPayDeal,M4Code,2,0);
  RecordField(VEShipDeal,M4Code,5,0);
  RecordField(VEShipMode,M4Code,5,0);  
  RecordField(VECreditLimit,M4Val,0,0);
  RecordField(VEObjects,M4UStr,60,ObjVc);  
  RecordField(VEWarnText1,M4Str,255,0);  
  RecordField(VEFactoring,M4Code,20,CUVc);  
  RecordField(VECurncyCode,M4Code,5,CurncyCodeVc);  
  RecordField(VECustID,M4Str,20,0);  
  RecordField(VEVATCode,M4Code,10,VATCodeBlock);  
  RecordField(NoFactoringFlag,M4Int,0,0);
  RecordField(NoRepa,M4Int,0,0);
  RecordField(VECat,M4Code,5,0);
  RecordField(IBANCode,M4UStr,60,0);
  RecordField(EInvAddr,M4UStr,60,0);
  RecordField(EInvFunc,M4Int,0,0);
  RecordField(xAcceptanceGroup,M4Code,20,AcceptGroupVc);
  RecordField(WebServiceChannel,M4Set,120,0);
  RecordField(SkypeName,M4Str,60,0);
  RecordField(Region,M4Code,20,RegionVc);
  RecordField(NoTax1,M4Int,0,0);
  RecordField(NoTax2,M4Int,0,0);
  RecordField(GuestType,M4Int,0,0);
  RecordField(PassportNr,M4Str,20,0);
  RecordField(Profesion,M4Str,60,0);
  RecordField(Nationality,M4Str,20,0);
  RecordField(BirthDate,M4Date,0,0);
  RecordField(Gender,M4Int,0,0);
  RecordField(Newspaper,M4Code,10,0);
  RecordField(Smoking,M4Int,0,0);
  RecordField(DocType,M4Str,20,0);
  RecordField(Blacklist,M4Int,0,0);
  RecordField(MarStatus,M4Int,0,0);
  RecordField(Passphrase,M4Str,20,0);
  RecordField(SIPCode,M4Str,60,0);
  RecordField(AltPhone,M4Str,20,0);
  RecordField(Comment0,M4Str,60,0);
  RecordField(Comment1,M4Str,60,0);
  RecordField(Comment2,M4Str,60,0);
  RecordField(Title,M4Str,60,0);
  RecordField(Salutation1,M4Str,60,0);
  RecordField(Salutation2,M4Str,60,0);
  RecordField(Salutation3,M4Str,60,0);
  RecordField(xUserCode,M4Dummy,0,0);
  RecordField(DealerType,M4Int,0,0);
  RecordField(GroupInv,M4Int,0,0);
  RecordField(AddressBooks,M4UStr,255,0);
  RecordField(Extension,M4Str,20,0);
  RecordField(TourOperator,M4Code,20,CUVc);
  RecordField(Agent,M4Code,20,CUVc);
  RecordField(DietRemarks,M4Str,60,0);
  RecordField(RequirementRemarks,M4Str,60,0);
  RecordField(AgeStatus,M4Int,0,0);
  RecordField(Age,M4Long,0,0);//??
  RecordField(DefGuestPayMode,M4UStr,2,PMBlock);
  RecordField(BookOrigin,M4Code,20,0);
  RecordField(TaxTemplateCode,M4Code,10,TaxTemplateVc);
  RecordField(VETaxTemplateCode,M4Code,10,TaxTemplateVc);
  RecordField(EmployeeType,M4Int,0,0);
  RecordField(Ethnicity,M4Str,100,0);
  RecordField(BirthPlace,M4Str,100,0);
  RecordField(IDNr,M4Str,60,0);
  RecordField(VisaType,M4Str,30,0);
  RecordField(VisaNr,M4Str,100,0);
  RecordField(VisaExpiry,M4Date,0,0);
  RecordField(MilitaryDocNr,M4Str,60,0);
  RecordField(SocialSecurityNr,M4Str,100,0);
  RecordField(DisabledStatus,M4Int,0,0);
  RecordField(Disability,M4Str,60,0);
  RecordField(HealthStatus,M4Str,60,0);
  RecordField(HealthIssues,M4Str,200,0);
  RecordField(DriverLicenceCategory,M4Str,100,0);
  RecordField(SchoolName,M4Str,100,0);
  RecordField(EducationalDegree,M4Str,60,0);
  RecordField(EducationalMajor,M4Str,60,0);
  RecordField(EducationStatus,M4Int,0,0);
  RecordField(PreviousEmployer,M4Str,60,0);
  RecordField(PreviousJobTitle,M4Str,60,0);
  RecordField(Birthday,M4Str,5,0);
  RecordField(VERebCode,M4Code,5,0);
  RecordField(SelfBilling,M4Int,0,0);
  RecordField(DelCountry,M4Code,5,0);
  RecordField(VEInvoiceToCode,M4Code,20,CUVc);
  RecordField(MainPartner,M4Code,20,CUVc);
  RecordField(CreditLimitDays,M4Long,0,0);
  RecordField(VECreditLimitDays,M4Long,0,0);
  RecordField(FTax,M4Int,0,0);
  RecordField(SuframaRegNr,M4Str,9,0);
  RecordField(DefMarkup,M4PrcStr,10,0);
  RecordField(InvCountryName,M4Str,100,0);
  RecordField(DelCountryName,M4Str,100,0);
  RecordField(PaymentCode,M4Code,5,0);
  RecordField(MarketUserName,M4Str,60,0);
  RecordField(RemoteBackupsPassword,M4Str,40,0);
  RecordField(RemoteBackupsAddress,M4Str,255,0);
  RecordField(RemoteBackupsPort,M4Int,0,0);
  RecordField(BirthCountry,M4Str,100,0);
  RecordField(LegalForm,M4Code,10,0);
  RecordField(VATNrCheckDate,M4Date,0,0);
  RecordField(QQName,M4Str,20,0);
  RecordField(WeiboName,M4Str,20,0);
  RecordField(RecipientGLN,M4Str,20,0);
  RecordField(IPBookVAT,M4Int,0,0);
  RecordField(OPBookVAT,M4Int,0,0);
  RecordField(BillingTypePreference,M4Set,578,0);
  RecordField(Math2,M4TextField,0,0);
  RecordField(TaxCondition,M4Int,0,0);
  RecordField(PayMode,M4UStr,20,0);// Edit ************************** Friday, 12 September 2014 16:02:55
  
  MainKeyBegin(Code,1);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Code);
//  SynchronizationIndex;
  SubsetKeyBegin2(Name);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  AppendListFieldToKeyName(AddressBooks);
  KeySegment(Name);
  KeySegment(Code);
  SubsetKeyBegin2(Group);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(CustCat);
  KeySegment(Code);
  SubsetKeyBegin2(SearchKey);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(SearchKey);
  KeySegment(Code);
  SubsetKeyBegin2(Department);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Department);
  KeySegment(Code);
  SubsetKeyBegin2(ActCode);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Code);
  KeySegment(CUType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(ActName);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Name);
  KeySegment(Code);
  KeySegment(CUType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(ActGroup);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(CustCat);
  KeySegment(Code);
  KeySegment(CUType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(ActSearchKey);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(SearchKey);
  KeySegment(Code);
  KeySegment(CUType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(ActDepartment);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Department);
  KeySegment(Code);
  KeySegment(CUType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(Sorting);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Sorting);
  KeySegment(Code);
  SubsetKeyBegin2(Phone);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Phone);
  KeySegment(Code);
  SubsetKeyBegin2(ActPhone);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Phone);
  KeySegment(Code);
  KeySegment(CUType);  
  KeySegment(blockedFlag);
  SubsetKeyBegin2(SecAccount);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(SecAccount);
  KeySegment(Code);
  SubsetKeyBegin2(VATNr);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(VATNr);
  KeySegment(Code);
  SubsetKeyBegin2(ANACode);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(ANACode);
  KeySegment(Code);
  SubsetKeyBegin2(SalesMan);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(SalesMan);
  KeySegment(Code);
  SubsetKeyBegin2(InvoiceToCode);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(InvoiceToCode);
  KeySegment(Code);
  SubsetKeyBegin2(EDIFlag);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(EDIFlag);
  KeySegment(Code);
  SubsetKeyBegin2(Person);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Person);
  KeySegment(Code);
  SubsetKeyBegin2(BankAccount);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(BankAccount);
  KeySegment(Code);
  SubsetKeyBegin2(ActVATNr);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(VATNr);
  KeySegment(Code);
  KeySegment(CUType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(VEActCode);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Code);
  KeySegment(VEType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(VEActName);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Name);
  KeySegment(Code);
  KeySegment(VEType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(VEActGroup);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(VECat);
  KeySegment(Code);
  KeySegment(VEType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(VEActSearchKey);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(SearchKey);
  KeySegment(Code);
  KeySegment(VEType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(VEActDepartment);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Department);
  KeySegment(Code);
  KeySegment(VEType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(VEActVATNr);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(VATNr);
  KeySegment(Code);
  KeySegment(VEType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(GuestActCode);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Code);
  KeySegment(GuestType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(GuestActName);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Name);
  KeySegment(Code);
  KeySegment(GuestType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(GuestActPassport);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(PassportNr);
  KeySegment(Code);
  KeySegment(GuestType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(eMail);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(eMail);
  KeySegment(Code);
  SubsetKeyBegin2(VECat);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(VECat);
  KeySegment(Code);
  
/*
  SubsetKeyBegin2(Area);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Area);
  KeySegment(Code);
  KeySegment(Type);
  SubsetKeyBegin2(AreaName);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(AreaName);
  KeySegment(Code);
  KeySegment(Type);
*/
  KeyBegin(SkypeName);
  KeySegment(SkypeName);
  KeySegment(Code);

  KeyBegin(AltPhone);
  KeySegment(AltPhone);
  KeySegment(Code);
  KeyBegin(Mobile);
  KeySegment(Mobile);
  KeySegment(Code);

  KeyBegin(SIPCode);
  KeySegment(SIPCode);
  KeySegment(Code);
  KeyBegin(Extension);
  KeySegment(Extension);
  KeySegment(Code);
  KeyBegin(AllPhones); // Was this some inventive index that should contain ALL phone numbers, but was never made :)
  KeySegment(Phone);
  KeySegment(Code);
  KeyBegin(Region);
  KeySegment(Region);
  KeySegment(Code);

  KeyBegin(Birthday);
  KeySegment(Birthday);
  KeySegment(Code);  
  
  SubSetKeyBegin2(Classification);
  AppendListFieldToKeyName(Classification);
  KeySegment(Code);

  SubsetKeyBegin2(ActBankAccount);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(BankAccount);
  KeySegment(Code);
  KeyBegin(ActIBAN);
  KeySegment(IBANCode);
  KeySegment(Code);
  SubsetKeyBegin2(DealerActCode);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Code);
  KeySegment(DealerType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(DealerActName);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Name);
  KeySegment(Code);
  KeySegment(DealerType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(DealerActSearchKey);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(SearchKey);
  KeySegment(Code);
  KeySegment(DealerType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(DealerActDepartment);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Department);
  KeySegment(Code);
  KeySegment(DealerType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(DealerActVATNr);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(VATNr);
  KeySegment(Code);
  KeySegment(DealerType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(DealerActPhone);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Phone);
  KeySegment(Code);
  KeySegment(DealerType);  
  KeySegment(blockedFlag);

  SubsetKeyBegin2(RegNr1);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(RegNr1);
  KeySegment(Code);
  SubsetKeyBegin2(VEActRegNr1);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(RegNr1);
  KeySegment(Code);
  KeySegment(VEType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(ActRegNr1);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(RegNr1);
  KeySegment(Code);
  KeySegment(CUType);
  KeySegment(blockedFlag);
  
  SubsetKeyBegin2(DealerActRegNr1);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(VATNr);
  KeySegment(Code);
  KeySegment(DealerType);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(DateChanged);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(DateChanged);
  KeySegment(Code);
  SubsetKeyBegin2(ContactActCode);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Code);
  KeySegment(blockedFlag);
  SubsetKeyBegin2(ContactActName);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Name);
  KeySegment(Code);
  KeySegment(blockedFlag);
  KeyBegin(EmployeeActCode);
  KeySegment(Code);
  KeySegment(EmployeeType);
  KeySegment(blockedFlag);
  KeyBegin(EmployeeActName);
  KeySegment(Name);
  KeySegment(Code);
  KeySegment(EmployeeType);
  KeySegment(blockedFlag);
  KeyBegin(EmployeeActSearchKey);
  KeySegment(SearchKey);
  KeySegment(Code);
  KeySegment(EmployeeType);
  KeySegment(blockedFlag);
  KeyBegin(EmployeeActDepartment);
  KeySegment(Department);
  KeySegment(Code);
  KeySegment(EmployeeType);
  KeySegment(blockedFlag);
  KeyBegin(MarketUserName);
  KeySegment(MarketUserName);
  KeySegment(Code);
  EndRecord;
  
  
    
return;
end;